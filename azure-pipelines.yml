# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml
trigger:
- master
variables:
  AROSBUILDGCCVERS: '9.1.0'
  AROSBUILDTOOLCHAINDIR:  '$(AZBUILDPATH)/toolchain' # Location builds are done in
  AROSPORTSSRCSDIR:  '$(AZBUILDPATH)/portssources' #
  AROSBUILDSDIR:  '$(AZBUILDPATH)/builds' # Location builds are done in
  AZBUILDPATH: '$(system.defaultWorkingDirectory)' # workspace path
  #modulePath: '$(AZBUILDPATH)/src/github.com/$(build.repository.name)' # Path to the module's code
pool:
  vmImage: 'ubuntu-latest'

steps:
- script: echo Hello, world!
  displayName: 'Run a one-line script'

- script: |
    sudo apt-key adv --keyserver packages.microsoft.com --recv-keys B02C46DF417A0893
    sudo apt-get install bison flex libpng-dev zlib1g-dev netpbm
    mkdir build
    cd build
    ../AROS/configure
    make
    echo See https://aka.ms/yaml
  displayName: 'Run a multi-line script'
